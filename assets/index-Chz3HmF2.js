(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(t){if(t.ep)return;t.ep=!0;const n=r(t);fetch(t.href,n)}})();const u=({type:e,props:o={}},r=!1,a=document.body)=>{try{if(e!=null&&typeof e!="string")throw new Error(`Invalid element type: ${e}`);const t=e==null,n=t?document.createTextNode(o.nodeValue||""):document.createElement(e);if(!t){const c=s=>s.startsWith("on"),p=s=>!c(s)&&s!=="children"&&s!=="nodeValue";Object.keys(o).forEach(s=>{if(p(s)){if(typeof o[s]!="string"&&typeof o[s]!="number")throw new Error(`Invalid attribute value for ${s}: ${o[s]}`);n.setAttribute(s,o[s])}if(c(s)){if(typeof o[s]!="function")throw new Error(`Invalid event listener for ${s}: ${o[s]}`);n.addEventListener(s.toLowerCase().slice(2),o[s])}});const g=o.children||[];if(!Array.isArray(g))throw new Error(`Children should be an array: ${g}`);g.forEach(s=>u(s,!0,n))}return r&&a.appendChild(n),n}catch(t){console.error("Error rendering element:",t.message)}},$=e=>typeof e!="string"||e.length===0?"":e.charAt(0).toUpperCase()+e.slice(1),l=(e,...o)=>({type:e,props:{children:[...o]}}),i=e=>({type:null,props:{nodeValue:e}}),b=e=>{const{tipoFolha:o,metrosRolo:r,quantidadeRolos:a,precoPacote:t}=e,n={simples:1,dupla:2,tripla:3};return t/(r*a/n[o])},O={type:"div",props:{class:"container",children:[{type:"h1",props:{class:"principal",children:[i("Calculadora de Preço do Papel Higiênico")]}}]}},A=e=>({type:"div",props:{id:"snackbar",children:[i(e)]}}),C=e=>({type:"div",props:{...e}}),R=new Set,I=(e,o)=>{let r=document.querySelector(".snackbar-container");r||(r=u(C({class:"snackbar-container"}),!0));const a=u(A(e),!0,r);a.className="show";const t=`snackbar-${Date.now()}`;a.dataset.id=t,R.add(t),setTimeout(()=>{a.remove(),R.delete(t),R.size===0&&r&&r.remove()},o)},d=(e,o=3e3)=>{I(e,o)},q=(e,o)=>{if(!e.trim()){const r=`Por favor, preencha o campo ${o} corretamente.`;return d(r),console.error(r),null}return e.trim()},F=(e,o)=>{const r=parseFloat(e);if(isNaN(r)||r<=0){const a=`Por favor, preencha o campo ${o} com um número válido.`;return d(a),console.error(a),null}return r},k=(e,o)=>{const r=parseInt(e,10);if(isNaN(r)||r<=0){const a=`Por favor, preencha o campo ${o} com um número válido.`;return d(a),console.error(a),null}return r},D=e=>{const o={nome:q(e.nome,"Nome"),tipoFolha:q(e.tipoFolha,"Tipo de Folha"),metrosRolo:F(e.metrosRolo,"Metros por Rolo"),quantidadeRolos:k(e.quantidadeRolos,"Quantidade de Rolos"),precoPacote:F(e.precoPacote,"Preço do Pacote"),id:e.id};return Object.values(o).includes(null)?(d("Erro na validação dos campos."),console.error("Erro na validação dos campos.",o),null):o},L=(e,o)=>{localStorage.setItem(e,JSON.stringify(o))},S=JSON.parse(localStorage.getItem("preco-papel"))||{itens:[]},h=S.itens,M=()=>{const e=document.querySelectorAll("tr");if(e.length<=1)return;e.forEach(t=>t.classList.remove("destaque"));const o=h.sort((t,n)=>b(t)-b(n))[0];document.querySelector(`[data-id="${o.id}"]`).classList.add("destaque");let a=document.querySelector("#result");if(!a){const t=document.querySelector("#papelTable > tbody");a=u(C({class:"result",id:"result"}),!0),t.parentElement.insertAdjacentElement("beforeBegin",a)}a.innerHTML=`O papel higiênico mais barato é: <span class="destaque">${o.nome}</span> com preço por metro ajustado de <span class="destaque">R$ ${o.precoPorMetro.toFixed(4).toString().replace(".",",")}</span><br><br>
	<small /*style="font-size: 12px"*/>O preço por metro é ajustado como se todos fossem folhas simples, para manter a consistência dos valores</small>`},z=e=>{const o=h.findIndex(r=>r.id===+e);h.splice(o,1),L("preco-papel",S)},T=3e3;let f=null,m=0,v=null;const H=e=>{z(e.dataset.id),e.remove(),clearTimeout(f),f=null,v=null,m=0,M()},B=e=>{const o=e.target.parentElement;m++,m===1?f=setTimeout(()=>{m=0,f=null},T):m===2?f&&(o.classList.toggle("scale-out-horizontal"),d("Removendo item, clique novamente para cancelar!"),v=setTimeout(()=>{H(o)},T)):m===3&&(clearTimeout(f),clearTimeout(v),f=null,v=null,m=0,o.classList.toggle("scale-out-horizontal"),o.classList.toggle("scale-in-hor-center"),setTimeout(()=>{o.classList.remove("scale-in-hor-center")},500),d("Ação cancelada!"))},w=e=>{const{nome:o,tipoFolha:r,metrosRolo:a,quantidadeRolos:t,precoPacote:n,id:c,precoPorMetro:p,lowPrice:g}=e,s=document.getElementById("papelTable").getElementsByTagName("tbody")[0],N={type:"tr",props:{"data-id":c,title:"Dois clicks para remover e mais um para cancelar",onclick:B,class:g?"destaque":"",children:[l("td",i(o)),l("td",i($(r))),l("td",i(a)),l("td",i(t)),l("td",i(`R$ ${n.toString().replace(".",",")}`)),l("td",i(`R$ ${p.toFixed(4).toString().replace(".",",")}`))]}};u(N,!0,s),M()},j=e=>{try{e.preventDefault();const o=document.querySelector("#papelForm").elements,r={};for(let t of o)t.name&&(r[t.name]=t.value);r.id=Date.now();const a=D(r);if(!a){d("Erro na validação dos campos.",5e3);return}a.precoPorMetro=b(a),h.push(a),h.forEach(t=>t.lowPrice=!1),h.sort((t,n)=>b(t)-b(n))[0].lowPrice=!0,L("preco-papel",S),w(a),document.querySelector("form").reset(),d(`Papel higiênico ${a.nome||""} de R$ ${parseFloat(a.precoPacote).toFixed(2)} adicionado`)}catch(o){d("Erro ao processar a submissão."),console.error(o)}},x=(e,o,r,...a)=>{const n={type:"details",props:{ontoggle:c=>{const p=c.target.firstChild;if(c.target.open){p.firstElementChild.textContent=e,p.nextSibling.classList.add("open");return}p.firstElementChild.textContent=o,p.nextSibling.classList.remove("open")},children:[l("summary",l("p",i(o))),...a]}};return r&&(n.props.open=""),n},y=(e,o)=>({type:"label",props:{for:e,children:[i(o)]}}),P=(e,o,r,a=!1)=>{const t={type:"input",props:{type:e,name:o,id:o,placeholder:r,step:"0.01"}};return a&&(t.props.required=""),t},E=e=>({type:"option",props:{value:e,children:[i($(e))]}}),Q=y("nome","Nome do Papel Higiênico:"),V=P("text","nome","Coloque o nome do papel",!0),J=y("tipoFolha","Tipo de Folha:"),Y={type:"select",props:{id:"tipoFolha",name:"tipoFolha",required:"",children:[E("simples"),E("dupla"),E("tripla")]}},K=y("metrosRolo","Quantidade de Metros por Rolo:"),U=P("number","metrosRolo","",!0),W=y("quantidadeRolos","Quantidade de Rolos:"),G=P("number","quantidadeRolos","",!0),X=y("precoPacote","Preço do Pacote de Papel (R$):"),Z=P("number","precoPacote","",!0),_={type:"button",props:{type:"submit",children:[i("Calcular")]}},ee={type:"form",props:{id:"papelForm",onSubmit:j,children:[Q,V,J,Y,K,U,W,G,X,Z,_]}},oe="Esconder formulário",te="Mostrar formulário",re=x(oe,te,!0,ee),ae={type:"table",props:{id:"papelTable",children:[l("thead",l("tr",l("th",i("Nome")),l("th",i("Tipo de Folha")),l("th",i("Metros por Rolo")),l("th",i("Quantidade de Rolos")),l("th",i("Preço do Pacote")),l("th",i("Preço por Metro ajustado")))),l("tbody")]}},ne=i(` ${new Date().getFullYear()}`),se=i(" Leonardo H. Constantino"),le="Click para fechar.",ie="Sobre: Aplicativo para acabar com o “drama do rolo” na hora da compra! Click para saber mais.",ce=i("A “Calculadora de Preço do Papel Higiênico” é uma ferramenta online intuitiva que promete acabar com a indecisão na hora de escolher o papel higiênico com o melhor custo-benefício. Com um design simplificado, o aplicativo permite aos usuários inserir detalhes como o nome do papel, tipo de folha, metros por rolo, quantidade de rolos e preço do pacote. Após o preenchimento dessas informações, um simples clique no botão “Calcular” revela qual opção de papel higiênico é mais econômica, baseando-se no preço por metro ajustado. Além disso, a aplicação oferece uma tabela comparativa e a possibilidade de esconder o formulário para uma visualização mais clara dos resultados, tornando a experiência de compra mais eficiente e agradável."),de=x(le,ie,!1,l("p",ce)),ue={type:"i",props:{class:"copy"}},pe={type:"footer",props:{children:[de,l("p",l("span",ue),l("span",ne),l("span",se))]}},me=()=>{h.forEach(e=>{w(e)})},fe=()=>{try{const e=document.querySelector("#app");u(O,!0,e),u(re,!0,e),u(ae,!0,e),u(pe,!0),me()}catch(e){d("Erro ao carregar a aplicação!",5e3),console.error(e)}};document.addEventListener("DOMContentLoaded",fe);
