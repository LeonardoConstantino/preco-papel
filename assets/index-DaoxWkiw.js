(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function a(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(t){if(t.ep)return;t.ep=!0;const n=a(t);fetch(t.href,n)}})();const u=({type:e,props:o={}},a=!1,r=document.body)=>{try{if(e!=null&&typeof e!="string")throw new Error(`Invalid element type: ${e}`);const t=e==null,n=t?document.createTextNode(o.nodeValue||""):document.createElement(e);if(!t){const c=s=>s.startsWith("on"),p=s=>!c(s)&&s!=="children"&&s!=="nodeValue";Object.keys(o).forEach(s=>{if(p(s)){if(typeof o[s]!="string"&&typeof o[s]!="number")throw new Error(`Invalid attribute value for ${s}: ${o[s]}`);n.setAttribute(s,o[s])}if(c(s)){if(typeof o[s]!="function")throw new Error(`Invalid event listener for ${s}: ${o[s]}`);n.addEventListener(s.toLowerCase().slice(2),o[s])}});const g=o.children||[];if(!Array.isArray(g))throw new Error(`Children should be an array: ${g}`);g.forEach(s=>u(s,!0,n))}return a&&r.appendChild(n),n}catch(t){console.error("Error rendering element:",t.message)}},$=e=>typeof e!="string"||e.length===0?"":e.charAt(0).toUpperCase()+e.slice(1),l=(e,...o)=>({type:e,props:{children:[...o]}}),i=e=>({type:null,props:{nodeValue:e}}),b=e=>{const{tipoFolha:o,metrosRolo:a,quantidadeRolos:r,precoPacote:t}=e,n={simples:1,dupla:2,tripla:3};return parseFloat(t)/(parseFloat(a)*parseInt(r))/n[o]},A={type:"div",props:{class:"container",children:[{type:"h1",props:{class:"principal",children:[i("Calculadora de Preço do Papel Higiênico")]}}]}},O=e=>({type:"div",props:{id:"snackbar",children:[i(e)]}}),C=e=>({type:"div",props:{...e}}),F=new Set,I=(e,o)=>{let a=document.querySelector(".snackbar-container");a||(a=u(C({class:"snackbar-container"}),!0));const r=u(O(e),!0,a);r.className="show";const t=`snackbar-${Date.now()}`;r.dataset.id=t,F.add(t),setTimeout(()=>{r.remove(),F.delete(t),F.size===0&&a&&a.remove()},o)},d=(e,o=3e3)=>{I(e,o)},q=(e,o)=>{if(!e.trim()){const a=`Por favor, preencha o campo ${o} corretamente.`;return d(a),console.error(a),null}return e},S=(e,o)=>{const a=parseFloat(e);if(isNaN(a)||a<=0){const r=`Por favor, preencha o campo ${o} com um número válido.`;return d(r),console.error(r),null}return a},k=(e,o)=>{const a=parseInt(e,10);if(isNaN(a)||a<=0){const r=`Por favor, preencha o campo ${o} com um número válido.`;return d(r),console.error(r),null}return a},D=e=>{const o={nome:q(e.nome,"Nome"),tipoFolha:q(e.tipoFolha,"Tipo de Folha"),metrosRolo:S(e.metrosRolo,"Metros por Rolo"),quantidadeRolos:k(e.quantidadeRolos,"Quantidade de Rolos"),precoPacote:S(e.precoPacote,"Preço do Pacote"),id:e.id};return Object.values(o).includes(null)?(d("Erro na validação dos campos."),console.error("Erro na validação dos campos.",o),null):o},L=(e,o)=>{localStorage.setItem(e,JSON.stringify(o))},E=JSON.parse(localStorage.getItem("preco-papel"))||{itens:[]},h=E.itens,M=()=>{const e=document.querySelectorAll("tr");if(e.length===0)return;e.forEach(t=>t.classList.remove("destaque"));const o=h.sort((t,n)=>b(t)-b(n))[0];document.querySelector(`[data-id="${o.id}"]`).classList.add("destaque");let r=document.querySelector("#result");if(!r){const t=document.querySelector("#papelTable > tbody");r=u(C({class:"result",id:"result"}),!0),t.parentElement.insertAdjacentElement("beforeBegin",r)}r.innerHTML=`O papel higiênico mais barato é: <span class="destaque">${o.nome}</span> com preço por metro ajustado de <span class="destaque">R$ ${o.precoPorMetro.toFixed(4)}</span>`},z=e=>{const o=h.findIndex(a=>a.id===+e);h.splice(o,1),L("preco-papel",E)},T=3e3;let f=null,m=0,v=null;const H=e=>{z(e.dataset.id),e.remove(),clearTimeout(f),f=null,v=null,m=0,M()},B=e=>{const o=e.target.parentElement;m++,m===1?f=setTimeout(()=>{m=0,f=null},T):m===2?f&&(o.classList.toggle("scale-out-horizontal"),d("Removendo item, clique novamente para cancelar!"),v=setTimeout(()=>{H(o)},T)):m===3&&(clearTimeout(f),clearTimeout(v),f=null,v=null,m=0,o.classList.toggle("scale-out-horizontal"),o.classList.toggle("scale-in-hor-center"),setTimeout(()=>{o.classList.remove("scale-in-hor-center")},500),d("Ação cancelada!"))},w=e=>{const{nome:o,tipoFolha:a,metrosRolo:r,quantidadeRolos:t,precoPacote:n,id:c,precoPorMetro:p,lowPrice:g}=e,s=document.getElementById("papelTable").getElementsByTagName("tbody")[0],N={type:"tr",props:{"data-id":c,title:"Dois clicks para remover e mais um para cancelar",onclick:B,class:g?"destaque":"",children:[l("td",i(o||"N/A")),l("td",i($(a))),l("td",i(parseFloat(r).toFixed(2))),l("td",i(parseInt(t))),l("td",i(`R$ ${parseFloat(n).toFixed(2)}`)),l("td",i(`R$ ${p.toFixed(4)}`))]}};u(N,!0,s),M()},Q=e=>{try{e.preventDefault();const o=document.querySelector("#papelForm").elements,a=Array.from(o).reduce((t,n)=>(n.name&&(t[n.name]=n.value),t),{});a.id=Date.now();const r=D(a);if(!r){d("Erro na validação dos campos.");return}r.precoPorMetro=b(r),w(r),h.push(r),h.forEach(t=>t.lowPrice=!1),h.sort((t,n)=>b(t)-b(n))[0].lowPrice=!0,L("preco-papel",E),document.querySelector("form").reset(),d(`Papel higiênico ${r.nome||""} de R$ ${parseFloat(r.precoPacote).toFixed(2)} adicionado`)}catch(o){d(`Erro ao processar a submissão. ${o} `),console.error(o)}},x=(e,o,a,...r)=>{const n={type:"details",props:{ontoggle:c=>{const p=c.target.firstChild;if(c.target.open){p.firstElementChild.textContent=e,p.nextSibling.classList.add("open");return}p.firstElementChild.textContent=o,p.nextSibling.classList.remove("open")},children:[l("summary",l("p",i(o))),...r]}};return a&&(n.props.open=""),n},y=(e,o)=>({type:"label",props:{for:e,children:[i(o)]}}),P=(e,o,a,r=!1)=>{const t={type:"input",props:{type:e,name:o,id:o,placeholder:a}};return r&&(t.props.required=""),t},R=e=>({type:"option",props:{value:e,children:[i($(e))]}}),V=y("nome","Nome do Papel Higiênico:"),j=P("text","nome","Coloque o nome do papel",!0),J=y("tipoFolha","Tipo de Folha:"),Y={type:"select",props:{id:"tipoFolha",name:"tipoFolha",required:"",children:[R("simples"),R("dupla"),R("tripla")]}},K=y("metrosRolo","Quantidade de Metros por Rolo:"),U=P("number","metrosRolo","",!0),W=y("quantidadeRolos","Quantidade de Rolos:"),G=P("number","quantidadeRolos","",!0),X=y("precoPacote","Preço do Pacote de Papel (R$):"),Z=P("number","precoPacote","",!0),_={type:"button",props:{type:"submit",children:[i("Calcular")]}},ee={type:"form",props:{id:"papelForm",onSubmit:Q,children:[V,j,J,Y,K,U,W,G,X,Z,_]}},oe="Esconder formulário",te="Mostrar formulário",re=x(oe,te,!0,ee),ae={type:"table",props:{id:"papelTable",children:[l("thead",l("tr",l("th",i("Nome")),l("th",i("Tipo de Folha")),l("th",i("Metros por Rolo")),l("th",i("Quantidade de Rolos")),l("th",i("Preço do Pacote")),l("th",i("Preço por Metro")))),l("tbody")]}},ne=i(` ${new Date().getFullYear()}`),se=i(" Leonardo H. Constantino"),le="Click para fechar.",ie="Sobre: Aplicativo para acabar com o “drama do rolo” na hora da compra! Click para saber mais.",ce=i("A “Calculadora de Preço do Papel Higiênico” é uma ferramenta online intuitiva que promete acabar com a indecisão na hora de escolher o papel higiênico com o melhor custo-benefício. Com um design simplificado, o aplicativo permite aos usuários inserir detalhes como o nome do papel, tipo de folha, metros por rolo, quantidade de rolos e preço do pacote. Após o preenchimento dessas informações, um simples clique no botão “Calcular” revela qual opção de papel higiênico é mais econômica, baseando-se no preço por metro ajustado. Além disso, a aplicação oferece uma tabela comparativa e a possibilidade de esconder o formulário para uma visualização mais clara dos resultados, tornando a experiência de compra mais eficiente e agradável."),de=x(le,ie,!1,l("p",ce)),ue={type:"i",props:{class:"copy"}},pe={type:"footer",props:{children:[de,l("p",l("span",ue),l("span",ne),l("span",se))]}},me=()=>{h.forEach(e=>{w(e)})};document.addEventListener("DOMContentLoaded",()=>{try{const e=document.querySelector("#app");u(A,!0,e),u(re,!0,e),u(ae,!0,e),u(pe,!0),me()}catch(e){d("Erro ao carregar a aplicação!",5e3),console.error(e)}});
