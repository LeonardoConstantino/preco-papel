(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(t){if(t.ep)return;t.ep=!0;const s=r(t);fetch(t.href,s)}})();const m=({type:e,props:o={}},r=!1,a=document.body)=>{try{if(e!=null&&typeof e!="string")throw new Error(`Invalid element type: ${e}`);const t=e==null,s=t?document.createTextNode(o.nodeValue||""):document.createElement(e);if(!t){const l=c=>c.startsWith("on"),d=c=>!l(c)&&c!=="children"&&c!=="nodeValue";Object.keys(o).forEach(c=>{if(d(c)){if(typeof o[c]!="string"&&typeof o[c]!="number")throw new Error(`Invalid attribute value for ${c}: ${o[c]}`);s.setAttribute(c,o[c])}if(l(c)){if(typeof o[c]!="function")throw new Error(`Invalid event listener for ${c}: ${o[c]}`);s.addEventListener(c.toLowerCase().slice(2),o[c])}});const u=o.children||[];if(!Array.isArray(u))throw new Error(`Children should be an array: ${u}`);u.forEach(c=>m(c,!0,s))}return r&&a.appendChild(s),s}catch(t){console.error("Error rendering element:",t.message)}},C=e=>typeof e!="string"||e.length===0?"":e.charAt(0).toUpperCase()+e.slice(1),n=(e,...o)=>({type:e,props:{children:[...o]}}),i=e=>({type:null,props:{nodeValue:e}}),b=e=>{const{tipoFolha:o,metrosRolo:r,quantidadeRolos:a,precoPacote:t}=e,s={simples:1,dupla:2,tripla:3};return t/(r*a/s[o])},D={type:"div",props:{class:"container",children:[{type:"h1",props:{class:"principal",children:[i("Calculadora de Preço do Papel Higiênico")]}}]}},z=e=>({type:"div",props:{id:"snackbar",children:[i(e)]}}),$=e=>({type:"div",props:{...e}}),S=new Set,V=(e,o)=>{let r=document.querySelector(".snackbar-container");r||(r=m($({class:"snackbar-container"}),!0));const a=m(z(e),!0,r);a.className="show";const t=`snackbar-${Date.now()}`;a.dataset.id=t,S.add(t),setTimeout(()=>{a.remove(),S.delete(t),S.size===0&&r&&r.remove()},o)},p=(e,o=3e3)=>{V(e,o)},E=(e,o)=>{if(!e.trim()){const r=`Por favor, preencha o campo ${o} corretamente.`;return p(r),console.error(r),null}return e.trim()},F=(e,o)=>{const r=parseFloat(e);if(isNaN(r)||r<=0){const a=`Por favor, preencha o campo ${o} com um número válido.`;return p(a),console.error(a),null}return r},j=(e,o)=>{const r=parseInt(e,10);if(isNaN(r)||r<=0){const a=`Por favor, preencha o campo ${o} com um número válido.`;return p(a),console.error(a),null}return r},B=e=>{const o={nome:E(e.nome,"Nome"),tipoFolha:E(e.tipoFolha,"Tipo de Folha"),metrosRolo:F(e.metrosRolo,"Metros por Rolo"),quantidadeRolos:j(e.quantidadeRolos,"Quantidade de Rolos"),precoPacote:F(e.precoPacote,"Preço do Pacote"),id:e.id};return Object.values(o).includes(null)?(p("Erro na validação dos campos."),console.error("Erro na validação dos campos.",o),null):o},x=(e,o)=>{localStorage.setItem(e,JSON.stringify(o))},M=JSON.parse(localStorage.getItem("preco-papel"))||{itens:[]},h=M.itens,O=(e=!1)=>{if(e)return;const o=document.querySelectorAll("tr");if(h.length===0)return;o.forEach(s=>s.classList.remove("destaque"));const r=h.sort((s,l)=>b(s)-b(l))[0],a=document.querySelector(`[data-id="${r.id}"]`);a==null||a.classList.add("destaque");let t=document.querySelector("#result");if(!t){const s=document.querySelector("form");t=m($({class:"result",id:"result"}),!0),s.parentElement.insertAdjacentElement("afterend",t)}t.innerHTML=`O papel higiênico mais barato é: <span class="destaque">${r.nome}</span> com preço por metro ajustado de <span class="destaque">R$ ${r.precoPorMetro.toFixed(4).toString().replace(".",",")}</span><br><br>
	<small>O preço por metro é ajustado como se todos fossem folhas simples, para manter a consistência dos valores</small>`},Q=e=>{const o=h.findIndex(r=>r.id===+e);h.splice(o,1),x("preco-papel",M)},L=3e3;let g=null,f=0,P=null;const J=e=>{Q(e.dataset.id),e.remove(),clearTimeout(g),g=null,P=null,f=0,O()},Y=e=>{const o=e.target.parentElement;f++,f===1?g=setTimeout(()=>{f=0,g=null},L):f===2?g&&(o.classList.toggle("scale-out-horizontal"),p("Removendo item, clique novamente para cancelar!"),P=setTimeout(()=>{J(o)},L)):f===3&&(clearTimeout(g),clearTimeout(P),g=null,P=null,f=0,o.classList.toggle("scale-out-horizontal"),o.classList.toggle("scale-in-hor-center"),setTimeout(()=>{o.classList.remove("scale-in-hor-center")},500),p("Ação cancelada!"))},q=(e,o=!1)=>{const{nome:r,tipoFolha:a,metrosRolo:t,quantidadeRolos:s,precoPacote:l,id:d,precoPorMetro:u,lowPrice:c}=e,N=document.querySelector("#papelTable > tbody"),k={type:"tr",props:{"data-id":d,title:"Dois clicks para remover e mais um para cancelar",onclick:Y,class:c?"destaque":"",children:[n("td",i(r)),n("td",i(C(a))),n("td",i(t)),n("td",i(s)),n("td",i(`R$ ${l.toString().replace(".",",")}`)),n("td",i(`R$ ${u.toFixed(4).toString().replace(".",",")}`))]}};m(k,!0,N),O(o)},K=e=>{try{e.preventDefault();const o=document.querySelector("#papelForm").elements,r={};for(let t of o)t.name&&(r[t.name]=t.value);r.id=Date.now();const a=B(r);if(!a){p("Erro na validação dos campos.",5e3);return}a.precoPorMetro=b(a),h.push(a),h.forEach(t=>t.lowPrice=!1),h.sort((t,s)=>b(t)-b(s))[0].lowPrice=!0,x("preco-papel",M),q(a),document.querySelector("form").reset(),p(`Papel higiênico ${a.nome||""} de R$ ${parseFloat(a.precoPacote).toFixed(2)} adicionado`)}catch(o){p("Erro ao processar a submissão."),console.error(o)}},A=(e,o,r,...a)=>{const s={type:"details",props:{ontoggle:l=>{const d=l.target.firstChild;if(l.target.open){d.firstElementChild.textContent=e,d.nextSibling.classList.add("open");return}d.firstElementChild.textContent=o,d.nextSibling.classList.remove("open")},children:[n("summary",n("p",i(o))),...a]}};return r&&(s.props.open=""),s},y=(e,o)=>({type:"label",props:{for:e,children:[i(o)]}}),w=(e,o,r,a=!1)=>{const t={type:"input",props:{type:e,name:o,id:o,placeholder:r,step:"0.01"}};return a&&(t.props.required=""),t},R=e=>({type:"option",props:{value:e,children:[i(C(e))]}}),W=y("nome","Nome do Papel Higiênico:"),G=w("text","nome","Coloque o nome do papel",!0),U=y("tipoFolha","Tipo de Folha:"),X={type:"select",props:{id:"tipoFolha",name:"tipoFolha",required:"",children:[R("simples"),R("dupla"),R("tripla")]}},Z=y("metrosRolo","Quantidade de Metros por Rolo:"),_=w("number","metrosRolo","",!0),ee=y("quantidadeRolos","Quantidade de Rolos:"),oe=w("number","quantidadeRolos","",!0),te=y("precoPacote","Preço do Pacote de Papel (R$):"),re=w("number","precoPacote","",!0),ae={type:"button",props:{type:"submit",children:[i("Calcular")]}},se={type:"form",props:{id:"papelForm",onSubmit:K,children:[W,G,U,X,Z,_,ee,oe,te,re,ae]}},ne="Esconder formulário",ce="Mostrar formulário",le=A(ne,ce,!0,se),T="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='%23888888'%20d='M19%2017h3l-4%204l-4-4h3V3h2M2%2017h10v2H2M6%205v2H2V5m0%206h7v2H2z'/%3e%3c/svg%3e",H="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='%23888888'%20d='M19%207h3l-4-4l-4%204h3v14h2M2%2017h10v2H2M6%205v2H2V5m0%206h7v2H2z'/%3e%3c/svg%3e",I=(e,o,r,a="",t="")=>{const s={type:"i",props:{style:`background-image: url("${r}")`}},l={type:"button",props:{children:[n("span",i(e))]}};return o&&(l.props.onClick=o),r&&l.props.children.push(s),a&&(l.props.class=a),t&&(l.props.title=t),l},ie=(e,o)=>{e.innerHTML=o.innerHTML},de=(e,o)=>{e.dataset.sort=o?"sortDescending":"sortAscending"},pe=(e,o)=>{e.style.backgroundImage=`url("${o?H:T}")`},ue=(e,o,r)=>e.slice().sort((a,t)=>o==="nome"||o==="tipoFolha"?r?a[o].localeCompare(t[o]):t[o].localeCompare(a[o]):r?a[o]-t[o]:t[o]-a[o]),me=(e,o)=>{e.innerHTML="",o.forEach(r=>{q(r,!0)})},he=e=>{var u;const o=e.currentTarget,r=o.children[1],a=(u=o.closest(".dropdown"))==null?void 0:u.firstChild,t=o.dataset.type,s=o.dataset.sort==="sortAscending",l=document.querySelector("#papelTable > tbody");if(!a||!l)return;ie(a,o),de(o,s),pe(r,s);const d=ue(h,t,s);me(l,d)},fe=I("Preço por Metro ajustado",null,T,"dropbtn","Ordene a lista"),v=(e,o,r=!1)=>{const t=n("li",I(e,s=>{he(s)},r?H:T));return t.props.children[0].props["data-type"]=o,t.props.children[0].props["data-sort"]="sortAscending",r&&(t.props.children[0].props["data-sort"]="sortDescending"),t},ge={type:"ul",props:{class:"dropdown-content",children:[v("Nome","nome"),v("Tipo de Folha","tipoFolha"),v("Metros por Rolo","metrosRolo"),v("Quantidade de Rolos","quantidadeRolos"),v("Preço do Pacote","precoPacote"),v("Preço por Metro ajustado","precoPorMetro",!0)]}},ve={type:"div",props:{class:"dropdown",children:[fe,ge]}},be=n("div",ve,{type:"table",props:{id:"papelTable",children:[n("thead",n("tr",n("th",i("Nome")),n("th",i("Tipo de Folha")),n("th",i("Metros por Rolo")),n("th",i("Quantidade de Rolos")),n("th",i("Preço do Pacote")),n("th",i("Preço por Metro ajustado")))),n("tbody")]}}),ye="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='%23888888'%20d='M10.08%2010.86c.05-.33.16-.62.3-.87s.34-.46.59-.62c.24-.15.54-.22.91-.23c.23.01.44.05.63.13c.2.09.38.21.52.36s.25.33.34.53s.13.42.14.64h1.79c-.02-.47-.11-.9-.28-1.29s-.4-.73-.7-1.01s-.66-.5-1.08-.66s-.88-.23-1.39-.23c-.65%200-1.22.11-1.7.34s-.88.53-1.2.92s-.56.84-.71%201.36S8%2011.29%208%2011.87v.27c0%20.58.08%201.12.23%201.64s.39.97.71%201.35s.72.69%201.2.91c.48.22%201.05.34%201.7.34c.47%200%20.91-.08%201.32-.23s.77-.36%201.08-.63s.56-.58.74-.94s.29-.74.3-1.15h-1.79c-.01.21-.06.4-.15.58s-.21.33-.36.46s-.32.23-.52.3c-.19.07-.39.09-.6.1c-.36-.01-.66-.08-.89-.23c-.25-.16-.45-.37-.59-.62s-.25-.55-.3-.88s-.08-.67-.08-1v-.27c0-.35.03-.68.08-1.01M12%202C6.48%202%202%206.48%202%2012s4.48%2010%2010%2010s10-4.48%2010-10S17.52%202%2012%202m0%2018c-4.41%200-8-3.59-8-8s3.59-8%208-8s8%203.59%208%208s-3.59%208-8%208'/%3e%3c/svg%3e",Pe=i(` ${new Date().getFullYear()}`),we=i(" Leonardo H. Constantino"),Se="Click para fechar.",Re="Sobre: Aplicativo para acabar com o “drama do rolo” na hora da compra! Click para saber mais.",Me=i("A “Calculadora de Preço do Papel Higiênico” é uma ferramenta online intuitiva que promete acabar com a indecisão na hora de escolher o papel higiênico com o melhor custo-benefício. Com um design simplificado, o aplicativo permite aos usuários inserir detalhes como o nome do papel, tipo de folha, metros por rolo, quantidade de rolos e preço do pacote. Após o preenchimento dessas informações, um simples clique no botão “Calcular” revela qual opção de papel higiênico é mais econômica, baseando-se no preço por metro ajustado. Além disso, a aplicação oferece uma tabela comparativa e a possibilidade de esconder o formulário para uma visualização mais clara dos resultados, tornando a experiência de compra mais eficiente e agradável."),qe=A(Se,Re,!1,n("p",Me)),Te={type:"i",props:{style:`background-image: url("${ye}")`}},Ee={type:"footer",props:{children:[qe,n("p",n("span",Te),n("span",Pe),n("span",we))]}},Fe=()=>{h.forEach(e=>{q(e)})},Le=()=>{try{const e=document.querySelector("#app");m(D,!0,e),m(le,!0,e),m(be,!0,e),m(Ee,!0),Fe()}catch(e){p("Erro ao carregar a aplicação!",5e3),console.error(e)}};document.addEventListener("DOMContentLoaded",Le);
